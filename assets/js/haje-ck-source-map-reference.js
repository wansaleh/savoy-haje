(function(){"use strict";var $,t,e;$=jQuery,e=$.localStorage,$.fn.bgOverlay=function(t){return null==t&&(t={}),this.each(function(){var e;return e=$('<div class="bg-overlay"></div>').css(t),$(this).prepend(e).css({position:"relative"}),e})},t=function(t,e){var n;return n=null,$.each(t,function(t,r){if(t.toLowerCase()===e.toLowerCase())return n=r,!1}),n},window.Haje=function(){function t(){!function(){var t;return t=$(".upsells h2, .related h2, .woocommerce-cart .woocommerce>form>h3, .cart-collaterals>h2, #customer_details h3, #order_review_heading, #nm-wishlist h1, .woocommerce-edit-address .woocommerce-MyAccount-content h2"),t.length&&t.each(function(){var t,e,n;if(t=$(this).html().trim(),!/<[a-z][\s\S]*>/i.test(t))return e=t.split(/\s+/),n=e.pop(),$(this).html(e.join(" ")+(" <em>"+n+"</em>"))})}(),$("#nm-mobile-menu-button").click(function(){var t;return t=$(this).children(".hamburger"),$("body").hasClass("mobile-menu-open")?t.addClass("is-active"):t.removeClass("is-active")})}return t}(),Haje.Forms=function(){function t(){$("form .form-row").find("input, textarea, select, label").focus(function(){return $(this).closest(".form-row").addClass("focus")}).blur(function(){return $(this).closest(".form-row").removeClass("focus")}),$('p[class^="comment-form-"]').find("input, textarea, select, label").focus(function(){return $(this).closest('p[class^="comment-form-"]').addClass("focus")}).blur(function(){return $(this).closest('p[class^="comment-form-"]').removeClass("focus")}),$(".mc4wp-form input[type=email]").focus(function(){return $(this).closest(".mc4wp-form").addClass("focus")}).blur(function(){return $(this).closest(".mc4wp-form").removeClass("focus")})}return t}(),Haje.Alert=function(){function t(){this.setupAlert(),window._alert=window.alert,window.alert=function(t){return function(e){return t.showAlert(e)}}(this)}return t.prototype.setupAlert=function(){return this.overlay=$('<div class="hj-alert-overlay"></div>'),this.alert=$('<div class="hj-alert"><div class="hj-alert-content"></div><div class="hj-alert-action"><a href="#">Close</a></div></div>'),this.alertContent=this.alert.find(".hj-alert-content"),this.actionButton=this.alert.find(".hj-alert-action > a"),this.actionButton.click(function(t){return function(e){return e.stopPropagation(),t.overlay.removeClass("show")}}(this)),this.overlay.click(function(t){return function(e){return e.stopPropagation(),t.overlay.removeClass("show")}}(this)),this.alert.click(function(t){return t.stopPropagation()}),$("body").append(this.overlay.append(this.alert))},t.prototype.showAlert=function(t){return null==t&&(t="Test"),this.alertContent.html(t),this.overlay.addClass("show")},t}(),$(function(){return new Haje,new Haje.Forms,new Haje.Alert}),$=jQuery,e=$.localStorage,Haje.WC=function(){function t(){var t;t=$(".nm-product-thumbnails-col, .nm-product-images-col, .nm-product-summary-col, .nm-single-product-right-col"),t.length&&t.imagesLoaded(function(){return t.matchHeight({property:"min-height"})})}return t}(),Haje.WC.Filters=function(){function t(){this.init()}return t.prototype.init=function(){var t,e,n;return t=$(".nm_widget_color_filter"),n=$(t).find(".nm-widget-title"),e=n.text(),t.data("original-title",e),$(t).find(".wc-layered-nav-term a").each(function(){return $(this).hover(function(t){return function(){return n.text($(t).children("i")[0].nextSibling.nodeValue)}}(this),function(e){return function(){return n.text(t.data("original-title"))}}(this))})},t}(),Haje.WC.VariationSwatches=function(){function n(){this.init("#nm-product-summary"),Haje.WC_Variation_Swatches=this}return n.prototype.init=function(t){if($(t).find("table.variations .nm-variation-row").length)return this.replaceSelect(t),this.toggleVariations(t)},n.prototype.replaceSelect=function(t){var e;return e=this,$(t).find("table.variations .nm-variation-row").each(function(){var t,n,r,o,i,a;if(i=$(this).addClass("haje-swatch"),r=i.children(".label"),a=i.children(".value"),r.children("label").append('<div class="label-display"></div>'),o=r.find(".label-display"),t=a.children("select"),t.length)return t.togglebutton({removeFirst:!0,onChange:function(e,n){return t.val()?(o.text(n),o.data("original-label",n)):o.data("original-label","")}}),$.each(t.data(),function(e,n){if("string"==typeof n)return t.data("group").attr("data-"+e,n.replace(/^attribute_/,""))}),t.data("buttons").hover(function(){return o.data("original-label",o.text()),o.text($(this).text())},function(){return o.text(o.data("original-label"))}),"color"!==i.data("attribute_name")&&"pa_color"!==i.data("attribute_name")||(e.colorizeSwatch(t.data("buttons")),t.data("buttons").sort(function(t,n){var r,o,i,a,s;return o=$(t).attr("value"),r=tinycolor(e.colorFromName(o)),a=$(n).attr("value"),i=tinycolor(e.colorFromName(a)),s=r.toHsl().h-i.toHsl().h,0!==s?-s:i.getBrightness()-r.getBrightness()}),t.data("buttons").detach().appendTo(t.data("group"))),"size"===i.data("attribute_name")||"pa_size"===i.data("attribute_name")?(n=$('<button type="button" class="swatch size-guide">Size Guide</button>').appendTo(t.data("group")),n.click(function(){return $(".wc-tabs .size_guide_tab a").trigger("click"),$("html, body").animate({scrollTop:$(".wc-tabs").offset().top},300)})):void 0})},n.prototype.colorizeSwatch=function(t){var e;return e=this,t.each(function(){var t;return t=e.colorFromName($(this).attr("value")),$(this).css({backgroundColor:"#"+t})})},n.prototype.toggleVariations=function(t){return $(t).find("table.variations .nm-variation-row").each(function(){var t,n,r,o;return r=$(this),n=r.children(".label"),o=r.children(".value"),t=r.data("attribute_name"),e.get("haje_open_variation_"+$(this).data("attribute_name"))&&$(this).addClass("open"),n.click(function(){var n;return n=$(this).next(".value"),r.hasClass("open")?(r.removeClass("open"),e.set("haje_open_variation_"+t,!1)):(r.addClass("open"),e.set("haje_open_variation_"+t,!0))})})},n.prototype.colorFromName=function(e){var n,r,o,i;if("undefined"!=typeof haje_hex&&null!==haje_hex)return tinycolor(t(haje_hex,e)).toHex();for(i=ntc.names,n=0,r=i.length;n<r;n++)if(o=i[n],e.toLowerCase().trim()===o[1].toLowerCase())return o[0];return!1},n}(),Haje.WC.ColorCart=function(){function t(){this.init()}return t.prototype.init=function(){return this.colorizeTags(),$(document.body).on("updated_checkout",function(t){return function(){return t.colorizeTags()}}(this)),$(document.body).on("wc_fragments_refreshed",function(t){return function(){return t.colorizeTags()}}(this)),$(document.body).on("added_to_cart",function(t){return function(){return t.colorizeTags()}}(this))},t.prototype.colorizeTags=function(){var t;return t=this,$(".cart_item, .mini_cart_item").find(".variation-Color:last-child p").each(function(){var t,e,n;return n=$(this).html(),t=$(this).parent().data("hex"),e=$(this).parent().data("color"),$(this).parent().addClass(tinycolor(t).getBrightness()<180?"dark":"light"),"white"===e||"White"===e?$(this).parent().css({background:"#"+t}):$(this).parent().css({background:"#"+t,borderColor:"#"+t})})},t}(),Haje.WC.PaymentMethods=function(){function t(){this.init(),$(document).ajaxSuccess(function(t){return function(){return t.init()}}(this)),$(document.body).on("updated_checkout",function(t){return function(){return t.init()}}(this))}return t.prototype.init=function(){return $("#payment").each(function(){return 1===$(this).find(".wc_payment_method").length?$(this).children("ul").addClass("single-method"):$(this).children("ul").addClass("multiple-method")})},t}(),$(function(){return new Haje.WC,new Haje.WC.Filters,new Haje.WC.VariationSwatches,new Haje.WC.ColorCart,new Haje.WC.PaymentMethods})}).call(this);